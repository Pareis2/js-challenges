<!DOCTYPE html>
<html>
  <head>
    <title>JS Challenge 1</title>
    <script type="text/javascript" src="main.js"></script>
    <style>
    </style>
  </head>
  <body>
    <header>
      <h1>My favourite films!</h1>
    </header>
    <main>
      <ul>
      </ul>
      <input type="text" id="filmName">
      <button id="addFilm">Add Film</button>
    </main>
    <script type="text/javascript">

var films = ['Grease', 'Brazil', 'The Fifth Element', 'The Last of the Mohicans', 'Star Wars'];


let ul = document.querySelector('ul');

function renderList(){

  films.sort()
  ul.innerHTML = "";

  for(let film in films){

    let li = document.createElement('li');
    li.innerHTML = films[film];

    ul.appendChild(li)

   } //plural for collection and singular fo item im collection
}
renderList();




 function uniqueFilm(films, filmName){

       if (films.indexOf(filmName) === -1){
         films.push(filmName);
         alert(filmName + ' added!')
         return true;
       }
       else if(films.indexOf(filmName) > -1){
         alert(filmName + ' already exist');
         return false;
       }
}

let add = function(){
    let filmName = document.getElementById('filmName').value;

    if(filmName != ""){
      //films.push(filmName)               // put the value into new li and insert into DOM
      if(uniqueFilm(films, filmName)){

      renderList();

      }
      
    }
    else{
      alert("you must enter a film")
    }

}

let button = document.getElementById('addFilm')//setup event listener
button.onclick = add;// when clicked, log the vaslue of the field



// The Challenge:
// ==============
// Commit your changes after completing each challenge
// 1. Take the list of films in the 'films' variable above and put them into the 'ul' list in the page
// 2. Make the list sorted alphabetically (hint: use the array.sort() function)
// 3. Enable users to add a film to the end of the list by entering it into the text box and clicking 'Add Film'
// 4. If the new film name is empty, don't add it to the list
// 5. Keep the list sorted when new films are added
// 6. Add a 'delete' button after each film to remove it from the list
// 7. Create a function that will build the list from the list of films and an element to populate.
//    e.g. make_list(films, 'ul');
// 8. Put the function and all other code into an external JS file (main.js).
// 9. Call the function in the JS file from here to create the list

// Extra credit
//  * Make deletion persist when new films are added
//  * Add an edit button
//  * Re-work into a class


//make_list(films, 'ul');


    </script>
  </body>
</html>
